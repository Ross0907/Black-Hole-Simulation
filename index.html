<!DOCTYPE html>
<html lang="en">
<head>
    <title>Black Hole Simulation</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, shrink-to-fit=no">
    <link rel="stylesheet" href="styles.css">
    <!-- All images now loaded from assets/ folder -->
</head>
<body>
    <div id="welcome-overlay" style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.97);z-index:10000;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:1;transition:opacity 0.8s cubic-bezier(.77,0,.18,1);overflow:hidden;">
        <canvas id="starfield-canvas" style="position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:0;"></canvas>
        <div style="position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100vw;">
            <div style="color:#fff;font-family:'Didot','Linotype Didot',serif;font-size:3.2em;letter-spacing:0.04em;text-align:center;font-weight:700;text-shadow:0 0 32px #fff,0 0 8px #b3e0ff;animation:glow 2.5s infinite alternate;">
                Welcome to a Black Hole Simulation
            </div>
            <div id="continue-prompt" style="color:#ffcc00;font-family:'Didot','Linotype Didot',serif;font-size:1.3em;margin-top:2em;text-align:center;text-shadow:0 0 8px #ffcc00;">
                <!-- Text will be set by JS -->
            </div>
            <div style="color:#b3e0ff;font-family:'Didot','Linotype Didot',serif;font-size:1.1em;margin-top:2.5em;text-align:center;max-width:600px;opacity:0.8;">
                "Love is the one thing that transcends time and space."<br><span style="font-size:0.8em;opacity:0.7;">‚Äî Interstellar</span>
            </div>
        </div>
    </div>
    <style>
        @keyframes glow {
            0% { text-shadow: 0 0 32px #fff, 0 0 8px #b3e0ff; }
            100% { text-shadow: 0 0 64px #fff, 0 0 24px #b3e0ff; }
        }
    </style>
    <div class="loading" id="loading" style="display: none;">Loading images...</div>
    
    <div class="info">
        <div id="hint-text">
            üåå Drag to orbit ‚Ä¢ Scroll to zoom ‚Ä¢ Watch light bend around the black hole
        </div>
    </div>
    <div id="fps-counter" style="position:fixed;top:6px;left:6px;z-index:9999;color:#fff;background:rgba(0,0,0,0.55);padding:1px 5px;border-radius:3px;font-size:9px;font-family:monospace;font-weight:bold;box-shadow:0 1px 2px #000;line-height:1;">FPS: --</div>
    <div id="sys-info" style="position:fixed;top:18px;left:6px;z-index:9998;color:#fff;background:rgba(0,0,0,0.45);padding:1px 5px;border-radius:3px;font-size:8px;font-family:monospace;box-shadow:0 1px 2px #000;line-height:1;max-width:220px;white-space:pre-wrap;">
        <div id="sys-browser">Browser: --</div>
        <div id="sys-platform">Platform: --</div>
        <div id="sys-resolution">Resolution: --</div>
        <div id="sys-gpu">GPU: --</div>
    </div>
    
    <div id="controls-panel" style="position:fixed;top:50px;right:18px;z-index:9999;">
        <button id="controls-toggle" style="background:#222;color:#fff;padding:6px 18px;border-radius:6px;border:none;box-shadow:0 1px 4px #000;cursor:pointer;font-size:15px;font-weight:bold;">
            ‚öôÔ∏è Controls
        </button>
        <div class="controls" id="controls-content" style="display:none;margin-top:8px;background:rgba(0,0,0,0.92);padding:18px 18px 12px 18px;border-radius:12px;box-shadow:0 2px 12px #000;">
            <div class="control-group">
                <label>
                    <input type="checkbox" id="accretion_disk" checked> Accretion Disk
                </label>
            </div>
            <div class="control-group">
                <label>
                    <input type="checkbox" id="gravitational_lensing" checked> Gravitational Lensing
                </label>
            </div>
            <div class="control-group">
                <label>
                    <input type="checkbox" id="doppler_beaming" checked> Doppler Effect
                </label>
            </div>
            <div class="control-group">
                <label>Observer Distance: <span class="value-display" id="distance_value">12.0</span></label>
                <input type="range" id="observer_distance" min="3.0" max="25.0" step="0.1" value="12.0">
            </div>
            <div class="control-group">
                <label>Black Hole Mass: <span class="value-display" id="mass_value">1.0</span></label>
                <input type="range" id="black_hole_mass" min="0.5" max="3.0" step="0.1" value="1.0">
            </div>
            <div class="control-group">
                <label>Time Scale: <span class="value-display" id="time_value">1.0</span></label>
                <input type="range" id="time_scale" min="0.0" max="3.0" step="0.1" value="1.0">
            </div>
            <div class="control-group">
                <label>Quality: 
                    <select id="quality">
                        <option value="40">Fast</option>
                        <option value="80" selected>Medium</option>
                        <option value="120">High</option>
                        <option value="160">Ultra</option>
                    </select>
                </label>
            </div>
            <div class="control-group">
                <label>Disk Brightness: <span class="value-display" id="disk_brightness_value">2.0</span></label>
                <input type="range" id="disk_brightness" min="0.5" max="5.0" step="0.1" value="2.0">
            </div>
            <div class="control-group">
                <label>Custom Background: <input type="file" id="custom_bg" accept="image/*"></label>
            </div>
            <div class="control-group">
                <label>Custom Stars: <input type="file" id="custom_stars" accept="image/*"></label>
            </div>
        </div>
    </div>

    <div style="position: fixed; bottom: 10px; left: 0; width: 100%; text-align: center; z-index: 200;">
        <span style="color: #ffcc00; background: rgba(0,0,0,0.8); padding: 8px 16px; border-radius: 6px; font-size: 15px; font-weight: bold;">
            ‚ö†Ô∏è For best results, switch Quality to <span style="color:#fff">High</span> or <span style="color:#fff">Ultra</span>! Medium may not show all simulation details.
        </span>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="app.js"></script>
    </script>
</body>
</html>
